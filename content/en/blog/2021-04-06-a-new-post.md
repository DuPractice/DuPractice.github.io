---
title: When a R user began coding with Python I
date: 2020-05-26T16:00:21-04:00
author: Xinting Du
slug: bookdown-tips
draft: false
toc: true
tags: Python
---


Excited to start my journey in Python!

I am a R user and always tell myself it is already enough to master one language. But this summer I attended to the [ICPSR Sumer Program in Quantitative Methods](https://www.icpsr.umich.edu/web/pages/sumprog/) and enrolled several exciting courses, such as Text Analysis and the Introduction to Python. I thought it’s time to learn something new!

1. Why Python?

Actually, I learn Python because I want to push forward one of my text-analysis projects, which I need to scrap data from Weibo first. And Python is useful to conduct web scraping.

2. Why this series of blog?

I try to write down and summarize this learning process, including What I had learnt, my random thoughts, etc. If you are also a R user and try to learn Python. Hopefully, this document will encourage you to take the first step without no hesitation!

3. A Claim

I gave credit to [Dr. Omer F. Yalcin](https://omerfyalcin.com/). With his enthusiasim in teaching and clear demonstration, I could learn in a smooth pace.
Also, I will collect other useful materials and add the reference link later!



## Getting started with Python

My recommendations for getting started are as follows:

[Google Colab](https://colab.research.google.com): quickly start writing code in browser.
[Anaconda](https://www.anaconda.com): if you want to work locally instead to easily install Python & packages to get Spyder to write code locally.

## Let's start coding

Python manipulates **data objects**, and objects have a **type**. 
Objects are: scalar (int, float, bool, and NoneType), or non-scalar

```python
## use type() to get the type of an object
type(3)
type(4.2)
type(False)
type(None)

## Objects of different types can be converted to one another

int(3.6)
float(4)
```

## Math Operations

| Operator          | Name       |  Example |
| -----------------|:---------------:| -----------------|
| +     | Addition      |  x+y |
| -  | Subtraction  | x-y |
| *| Multiplication        |  x*y|
| /| Division  | x/y|
| \% | Modulus | x\%y|
|**|Exponentiation| x**y|
|//| Floor disvision | x//y|

## Variables and Values

Equal sign (=) is used for assignment of a value to a variable

```python

pi = 3.14159
radius = 5

pring(pi)
pring(radius)

```





也就是说，把下面 ElegantBookdown 原本的代码中的 Adobe 字体替换成相应的 Apple 自带字体：

```R
% 字体设置
\setCJKmainfont[BoldFont={Adobe Heiti Std},ItalicFont={Adobe Kaiti Std}]{Adobe Song Std} 
\setCJKsansfont[BoldFont={Adobe Heiti Std},ItalicFont={Adobe Heiti Std}]{Adobe Heiti Std} 
\setCJKmonofont[BoldFont={Adobe Heiti Std},ItalicFont={Adobe Heiti Std}]{Adobe Fangsong Std} 

\setCJKfamilyfont{zhsong}{Adobe Song Std}
\setCJKfamilyfont{zhhei}{Adobe Heiti Std} 
\setCJKfamilyfont{zhkai}{Adobe Kaiti Std} 
\setCJKfamilyfont{zhfs}{Adobe Fangsong Std}
```

你当然也可以去 [Adobe Fonts 的Github 官网](https://github.com/adobe-fonts) 下载[思源宋体](https://github.com/adobe-fonts/source-han-serif/tree/release) 和 [思源黑体](https://github.com/adobe-fonts/source-han-sans/tree/release)。然后按上面的方法替换。不过没有太大的区别。


## PDF 中，中文引语的字体怎么改成和正文不一样的字体？

很简单，如果上面关于字体的代码你都没有删除的话，只需要加两行代码：

```tex
\usepackage{csquotes}
\AtBeginEnvironment{quote}{\CJKfamily{zhkai}}
```

我是把引语改成了楷体，你当然可以改成别的你喜欢的字体。

真的是「一行代码千行泪」啊。为了这两行代码我苦苦找了很久。

这个解决方法是我在 Stackoverflow 的 [这个回答](https://tex.stackexchange.com/a/288556) 中看到的。谢谢回答者 [Torbjørn T](https://tex.stackexchange.com/users/586/torbj%c3%b8rn-t).

## PDF 中正文字体的字号怎么改？

也很简单：

```tex
\setCJKmainfont[Scale=1.5]{STSong}
```

这个解决方法是我在 Stackoverflow 的 [这个回答](https://tex.stackexchange.com/questions/258434/changing-chinese-font-size) 中看到的。谢谢回答者 [Zelphir Kaltstahl](https://tex.stackexchange.com/users/92107/zelphir-kaltstahl).

### 有个问题是，那引用部分的字号怎么改？

用上面的方法似乎不管用了。不过，可以用这个方法：

```tex
\AtBeginEnvironment{quote}{\CJKfamily{zhkai}\large}
```

Latex 的十种字体大小使用方法请看[这里](https://www.sascha-frank.com/latex-font-size.html)。

## PDF 中的行间距怎么调整？

一开始，试着用 [texblog](https://texblog.org/2011/09/30/quick-note-on-line-spacing/) 上一篇 [Quick note on line spacing](https://texblog.org/2011/09/30/quick-note-on-line-spacing/) 提到的方法，但是不行。

后来看到了名为[始终](https://liam.page/) 的博主专门介绍行距的 [这篇帖子](https://liam.page/2013/10/17/LaTeX-Linespace/)。他已经提到了正确的方法，但比较隐蔽，还是不会用。

后来终于在 [这篇帖子](http://blog.sina.com.cn/s/blog_5e16f1770100ns4r.html) 中找到了方法：

```tex
\renewcommand{\baselinestretch}{1.5} % 行间距
```

## PDF 中的字间距怎么调整？

上面 [那篇](http://blog.sina.com.cn/s/blog_5e16f1770100ns4r.html) 帖子提到的 `\renewcommand{\CJKglue}{\hskip 1pt plus 0.08\baselineskip}` 这个办法我试了不管用。

不过后来在 [潘建瑜](http://math.ecnu.edu.cn/~jypan/intro_c.html?language=1&id=95) 老师的 [一篇 CTeX 介绍 PPT](http://math.ecnu.edu.cn/~jypan/Latex/lect/lect05CTeX.pdf) 中找到了方法：

```tex
\ziju{1.0}
```
其实，这个答案在 [这里](http://m.newsmth.net/article/TeX/321611) 已经有了，但是那位答主并没有说清楚 `\ziju` 这个命令具体怎么用，所以我错过了。

## 如何修改 HTML Output 中正文的字号？

[这里](https://stackoverflow.com/questions/40215141/bookdown-how-can-i-change-the-size-of-the-chapter-titles) 提到了如何修改标题的字号，但是并没有提到如何修改正文的字号。

我后来在 [这个 GitHub Issue](https://github.com/rstudio/bookdown/issues/846) 的问题中找到了解决方法：在 Bookdown 文件夹的根目录下的 `style.css` 中，加入如下代码：

```css
p{
  font-size: 12pt; /* 或者其他字号，根据自己的情况来改
}
```

第一个答案虽然没成功，但我意外发现，在 `style.css` 中加入下面这行代码可以改变 HTML Output 中左侧 (side bar) 的字号：


```css
.book{
  font-size:16pt;
}
```

大家可以试下，下行代码会是什么结果：

```css
body{
  font-size:16pt;
}
```

揭晓答案：和 `.book{}` 一样的效果，改变的是左侧栏的字号。

## LateX 资料

有几个非常好的 Latex 资料。其实，处理中文，主要用到 `CTeX` 和 `xeCJK` 这两个包。

1. [CTeX 宏集手册 2020年版](http://mirrors.ibiblio.org/CTAN/language/chinese/ctex/ctex.pdf)；

2. [xeCJK 宏包文档 2020年版](http://mirrors.ibiblio.org/CTAN/macros/xetex/latex/xecjk/xeCJK.pdf)；

如果你是想快速学一下 LaTeX, 可以看看 [《简单粗暴 LaTeX》](http://static.latexstudio.net/wp-content/uploads/2017/08/Note-by-LaTeX-cn.pdf)。最新版请关注该项目的 [GigHub Repo](https://github.com/wklchris/Note-by-LaTeX)。

如果你需要用到很多 LaTeX, 可以考虑在线版的 [Overleaf](https://www.overleaf.com/)，可以省却很多自己下载超大的 TeX 的麻烦。如果你只是在 R 中偶尔用，那么谢益辉的 [TinyTex](https://yihui.org/tinytex/) 就够用了。

[^1]: 这行代码来自 [ElegantBookdown](https://github.com/XiangyunHuang/ElegantBookdown)。在此表示感谢黄湘云、叶飞两位作者。
[^2]: 也有可能是 「已有 Block {#theorem-block}」这个板块中必须要留一个，只是因为我的删除顺序，才出现只有第一段代码必须保留的情况。这个我就不去重新试验了，读者有空可以自己试试。

